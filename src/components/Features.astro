---
import { Button } from "@/components/ui/button";
import { DownloadIcon } from "lucide-react";
import { UniversalLink } from "@/components/UniversalLink";
import { StackedAlerts } from "@/components/StackedAlerts";
import { DottedMap } from "@/components/ui/dotted-map";
import { DottedMapInteractivity } from "@/components/ui/dotted-map.client";
import { FlickeringGrid } from "@/components/ui/flickering-grid";
import { ServersBeam } from "@/components/ServersBeam";
---

<div class="flex relative flex-col xl:flex-row" id="features">
  <div class="flex-1 lg:flex-2/3">
    <div class="border-b w-full p-10 md:p-14">
      <div class="flex flex-col items-center justify-center gap-2">
        <h2
          class="text-3xl md:text-4xl font-medium text-center text-balance pb-1"
        >
          Empower The Digital Experience
        </h2>
        <p class="text-muted-foreground text-center text-balance">
          Marz bridges the gap between you and your users. It’s not just a
          connection, it’s a complete, supported ecosystem where troubleshooting
          is intuitive and help is never more than a tap away.
        </p>
      </div>
    </div>
    <div
      class="lg:aspect-square grid grid-cols-1 lg:grid-cols-2 overflow-hidden"
    >
      <div
        class="overflow-hidden lg:border-r flex flex-col items-start justify-end w-full aspect-square relative group"
      >
        <DottedMap
          server:defer
          className="absolute scale-[2] transform-gpu -translate-y-20 -translate-x-4"
        />
        <DottedMapInteractivity client:idle />
        <div
          class="flex-col gap-2 p-6 pt-20 bg-linear-to-b from-transparent to-30% to-background h-fit z-20"
        >
          <h3 class="text-lg font-semibold">Visual VPN Interface</h3>
          <p class="text-muted-foreground">
            An interactive UI that feels like a premium VPN, featuring live
            subscription status and geographic server tracking at a glance.
          </p>
        </div>
      </div>
      <div
        class="border-t lg:border-t-0 justify-end relative flex flex-col w-full h-full aspect-square group"
      >
        <UniversalLink client:visible />
        <div
          class="flex-col gap-2 p-6 pt-20 bg-linear-to-b from-transparent to-30% to-background h-fit z-20"
        >
          <h3 class="text-lg font-semibold">Universal Link Support</h3>
          <p class="text-muted-foreground">
            Seamlessly integrated with all major Xray-provider panels, that
            provide universal subscription links.
          </p>
        </div>
      </div>
      <div
        class="isolate border-t lg:border-r justify-end flex flex-col items-start w-full h-full aspect-square relative group bg-background z-10"
      >
        <FlickeringGrid client:visible className="absolute" maxOpacity={0.07} />
        <ServersBeam client:visible />
        <div
          class="flex-col gap-2 p-6 pt-20 bg-linear-to-b from-transparent to-30% to-background/70 h-fit z-20"
        >
          <h3 class="text-lg font-semibold">Pre-Connect Verification</h3>
          <p class="text-muted-foreground">
            Marz automatically pings and verifies server health before user
            connect, ensuring every tap leads to a working tunnel.
          </p>
        </div>
      </div>
      <div
        class="isolate border-t flex flex-col items-start justify-end w-full h-full aspect-square relative group bg-background z-10"
      >
        <StackedAlerts client:visible />
        <div
          class="flex-col gap-2 p-6 pt-20 bg-linear-to-b from-transparent to-30% to-background h-fit z-20"
        >
          <h3 class="text-lg font-semibold">Alerts that Actually help</h3>
          <p class="text-muted-foreground">
            Marz provides real-time alerts ensuring users are always one tap
            away from a solution.
          </p>
        </div>
      </div>
    </div>
  </div>
  <div
    class="flex-1 lg:flex-1/3 xl:border-l p-10 flex flex-col gap-2 items-center justify-between border-t xl:border-t-0"
  >
    <img
      fetchpriority="high"
      src="/android-mock.png"
      class="max-w-full max-h-[80vh] sticky top-20 mb-16"
    />
    <Button variant="outline">
      <DownloadIcon />
      Download App
    </Button>
  </div>
</div>
